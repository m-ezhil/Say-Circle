<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{{url_for('static',filename='favicon.ico')}}">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  </head>
  <body>
    {% if is_login %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
      <div class="d-flex w-100 px-3 py-1 justify-content-between">
        <a class="h2 navbar-brand" href="{{url_for('view.home')}}"
          ><img src="{{url_for('static', filename='icon.png')}}" alt="icon" width="32 em">
          Say Circle</a
        >
        <div class="d-flex justify-content-end gap-3 align-items-center">
          <button
            type="button"
            class="btn btn-outline-success"
            data-bs-toggle="modal"
            data-bs-target="#add-post-modal"
          >
            + Add Post
          </button>
          <button id="btn-logout" class="btn btn-outline-danger">Logout</button>
          <img class="nav-item rounded-circle" id="profile" width="36px" />
        </div>
      </div>
    </nav>

    <div id="add-post-modal" class="modal fade" role="dialog" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header bg-light">
            <h2 class="modal-title">Add Post</h2>
          </div>
          <div class="modal-body">
            <form class="form" id="add-post-form">
              <label for="title" class="form-label">Title</label>
              <input type="text" name="title" id="title" class="form-control" required/>
              <label for="content" class="form-label">Content</label>
              <textarea
                name="content"
                id="content"
                rows="6"
                class="form-control"
                required
              ></textarea>
            </form>
          </div>
          <div class="modal-footer bg-light">
            <button
              type="button"
              class="btn btn-danger"
              data-bs-dismiss="modal"
              id="btn-add-post-close"
            >
              Close
            </button>
            <button id="btn-add-post" type="submit" class="btn btn-success">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="edit-post-modal" class="modal fade" role="dialog" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header bg-light">
            <h2 class="modal-title">Edit Post</h2>
          </div>
          <div class="modal-body">
            <form class="form" id="edit-post-form">
              <label for="title" class="form-label">Title</label>
              <input type="text" name="title" id="edit-title" class="form-control" required/>
              <label for="content" class="form-label">Content</label>
              <textarea
                name="content"
                id="edit-content"
                rows="6"
                class="form-control"
                required
              ></textarea>
              <input type="number" name="post_id" id="edit-post-id" hidden>
            </form>
          </div>
          <div class="modal-footer bg-light">
            <button
              type="button"
              class="btn btn-danger"
              data-bs-dismiss="modal"
              id="btn-edit-post-close"
            >
              Close
            </button>
            <button id="btn-edit-post" type="submit" class="btn btn-success">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <div class="toast position-fixed bottom-0 end-0 m-4 text-bg-success" role="alert" id="toast-success" style="z-index: 9999;">
      <div class="toast-header">
        <img src="{{url_for('static', filename='icon.png')}}" alt="icon" width="30em">&nbsp;Notification
      </div>
      <div class="toast-body">
      </div>
    </div>

    <div class="toast position-fixed bottom-0 end-0 m-4 text-bg-danger" role="alert" id="toast-danger" style="z-index: 9999;">
      <div class="toast-header">
        <img src="{{url_for('static', filename='icon.png')}}" alt="icon" width="30em">&nbsp;Notification
      </div>
      <div class="toast-body">
      </div>
    </div>

    <div class="container">{% block content %}{% endblock %}</div>
    <script src="{{url_for('static',filename='script.js')}}"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
